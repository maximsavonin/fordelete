                   О Т Л А Д Ч И К    A F D
                                                          
     AFD-отладчик обеспечивает отладку EXE и COM файлов, а так-
же программ, напм\исанных в машинных кодах.
     Запуск отладчика вызывает формирование на экране монитора
основного экрана, содержащего:
     - поле состояния процессора (программно доступные регистры,
стек, флаги, указатель команд);
     - поле ввода команд отладчика;
     - поле размещения текста отлаживаемой программы;
     - двух полей шестнадцатиричного дампинга памяти;
     - поля подсказки по использованию функциональных клавиш.
     Отладчик позволяет изменять определенные значения в активн-
ном поле. Активизация поля производится установкой в него курсора,
который перемещается по экрану с помощью функциональных клавиш
F7 - F10. Внутри активного поля курсор перемещается с помощью
клавиш управления курсором и табуляции. Команды отладчика набира-
ются в поле ввода команд, которое активизируется при запуске отл-
ладчика. Выполнение команды производится после окончания ввода и
нажатия клавиши Enter.

     1. Операции с файлами

        L <Имя файла> [Параметры][,Адрес загрузки]
Загрузка файла в память по заданному адресу и формирование PSP с
параметрами. По умолчанию адрес загрузки программы CS:0100h. Пос-
ле загрузки в регистрах BX и CX возвращается количество загружен-
ных в память байт программы.
Примечание:Загрузка программы для отладки может производиться при
           запуске отладчика с заданием имени файла программы в
           виде параметров запуска.

        W <Имя файла>,<Адрес>,<Длина>
Область памяти размером <Длина> начиная с <Адреса> сохраняется в
виде файла с заданным именем. По умолчанию сегментный регистр ад-
реса принимается DS. Адрес и длина (количество байт) задаются че-
тырехразрядными шестнадцатиричными числами.

        BW <Имя файла>
Запись в заданный файл точек останова отлаживаемой программы.

        BL <Имя файла>
Загрузка точек останова отлаживаемой программы из заданного файла.

        PH <Адрес>,<Длина>[,<Имя файла>]
Печать дампинга памяти с заданного адреса в шестнадцатиричном и
ASCII форматах на устройстве печати или в файл на диске. По умол-
чанию сегмент адресуется регистром DS. Количество распечатываемых
байт задается в операторе.

        PD <Адрес>,<Длина>[,<Имя файла>]
Печать программы в формате языка Ассемблера(в виде мнемокодов ко-
манд) программы. По умолчанию сегмент адресуется регистром CS. В
операторе указывается количество выводимых команд (инструкций)
Ассемблера.

        PT [<Начало>,<Длина>[,<Имя файла>]]
Печать на устройстве печати или в файл содержимого буфера трасси-
ровки. <Начало> задает положение первой распечатываемой команды,
<Длина> - количество распечатываемых команд. Если количество рас-
печатываемых команд меньше заданного, то выводятся все записанные
в буфере команды.

        XW <Имя файла>
Последовательность команд из буфера загружается в файл для после-
дующего использования.

        XL <Имя файла>
Загрузка последовательности команд из файла в буфер.

        XX [<Имя файла>]
Выполнение последовательности команд, записанной в буфере или
файле.

        XT
Установка режима сохранения вводимых в буфер команд для последую-
щей записи в файл или выполнения из буфера. Режим отключается при
переполнении буфера или по Ctrl-Break.


     2. Операции с программой и данными

        [R] <Регистр> <Значение>
Установка содержимого регистров процессора. Регистр флагов опреде-
ляется как шестнадцатиразрядный, для установки флагов используются
их имена.

        D <Адрес>
Установка адреса области памяти, отображаемой в поле размещения
текста программы основного экрана. По умолчанию сегмент программы
адресуется регистром CS.

        A [<Адрес>]
Переход в поле программы для корректировки и ввода мнемокодов ко-
манд. По умолчанию ввод начинается с текущей команды. Трансляция
отредактированных команд произволится после Enter. Новые команды
записываются поверх старых (редактируются). Выход из режима -
Ctrl-Home.

        P <Адрес>,<Строка>
Запись в память по заданному адресу строки информации. По умолча-
нию сегмент памяти адресуется регистром CS.

        F <Адрес>,<Повторитель>,<Строка>
Запись в память по заданному адресу указанное количество копий
строки информации. По умолчанию сегмент памяти адресуется регист-
ром DS.

        S [[<Адрес>],<Строка>]
Поиск в памяти по заданному адресу указанной строки информации.
Область памяти с найденной строкой высвечивается во втором поле
отображения содержимого памяти. По умолчанию поиск производится
с адреса CS:0000. Команда без параметров продолжает поиск.

        C <Адрес 1>,<Адрес 2>,<Длина>
Сравнение содержимого заданных начальными адресами двух областей
памяти указанной длины. При несовпадении содержимого областей их
состояние высвечивается в полях отображения памяти. По умолчанию
сегмент памяти адресуется регистром DS.

        CO <Адрес 1>,<Адрес 2>,<Длина>
Копирование заданного числа байт из области памяти с <Адреса 1>
в область памяти с <Адреса 2>. По умолчанию сегмент адресуется
регистром DS.

        G [<Стартовый адрес>][,<Адрес останова>]
Запуск программы на исполнение со стартового адреса до точки ос-
танова. По умолчанию используется сегментный регистр CS. Прерыва-
ние исполнения производится по Ctrl+Esc.

        M <Номер поля экрана>,<Адрес>/[<Регистр>]
Задание прямого или косвенного адреса памяти, дампинг которой ото-
бражается в заданном поле ( 1 или 2 ) экрана.


     3. Прочие операции

        QUIT [R]
Завершение работы с отладчиком с возможностью оставить его рези-
дентным в памяти. Повторный запуск резидентного отладчика по
Ctrl+Esc.

        I <Адрес>
Ввод и индикация информации из порта по заданному адресу. Адрес
может задаваться косвенно через регистр.

        O <Адрес>,<Значение>
Вывод значения в порт по заданному адресу. Адрес может задаваться
косвенно через регистр.

        T [B]
Вывод на экран буфера трассировки.

        BE [EP] ON/OFF
Включение/выключение при отладке звукового сигнала.

        286 ON/OFF
Переключение Ассемблера и дизассемблера в режим процессора 80286
или 8086(8088).

Примечания: 1.<Адрес> в командах отладчика может задаваться в виде
           полного адреса или только смещения. Значение адреса мо-
           мет вычисляться по выражению, содержащему имена регист-
           ров и константы. Для задания текущего адреса команды
           используется символ звездочки * .
            2.<Значение> может задаваться в виде байта или слова
           в шестнадцатиричном виде, содержимого регистра, деся-
           тичного числа, перед которым записан символ % , а так-
           же в виде арифметического выражения, значение которого
           вычисляется слева направо.
            3.<Строка> представляет собой последовательность алфа-
          витно-цифровых символов, заключенную в кавычки.

     4. Назначение функциональных клавиш

     F1 - пошаговое выполнение программы. Подпрограммы и прерыва-
          ния обрабатываются покомандно.
     F2 - процедурное выполнение программы. Подпрограммы и преры-
          вания выполняются как одна команда.
     F3 - вернуться на шаг назад в программе.
     F4 - вызов экрана подсказки.
     F5 - переход к экрану установки точек прерывания программы.

     F7 - перевод курсора на поле выше.
     F8 - перевод курсора на поле ниже.
     F9 - перевод курсора в левую часть поля.
     F10- перевод курсора в правую часть поля.

     5. Установка точек прерывания при отладке

     Для установки точек прерывания отлаживаемой программы необ-
ходимо перейти в соответствующее меню по F5. Экран состоит из поля
определения точек останова и поля программы. В первом поле задаются
соответствующие установки(условия) для точек прерывания. Форматы за-
писи условий
     <Регистр>-<Значение>; [<Регистр>]-<Значение>;
     <Адрес>-<Значение>; <Количество прерываний>
Адреса указываются в виде указателя адреса (с сегментным регистром).
Значения задаются как четырехразрядные шестнадцатиричные числа.
Счетчик определяет число прерываний, для которых производится об-
работка в соответствии с указанными действиями:
     T[RACE] ON[NI]/OFF - включение (выключение) выполнения трасси-
ровки отлаживаемой программы, параметр NI задает трассировку команд
прерывания;
     C[OUNT] - задает подсчет обрабатываемых прерываний;
     S[TOP] - выполняет останов отладки программы:
     R[SR] n,m... - задает номера вхождений джля обработки.

     Функцилнальные клавиши:
     F1 - просмотр трассировки;
     F3 - чтение начальных установок;
     F4 - вызов экрана подсказки;
     F5 - переход к основному экрану отладчика;
     F7 - сохранение начальных установок;
     F8 - переход в окно дизассемблера;
     F9 - очистка буфера точек останова программы.

Замечание. Программы могут быть защищены от просмотра их выполне-
           ния, т.е. отладки. Команды INT рекомендуется выполнять
           в процедурном режиме отладки. Отладчик не обрабатывает
           программы, созданные в Turbo-средах.
